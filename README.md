# Погодное приложение

Веб-приложение для просмотра погоды, построенное на FastAPI с использованием WeatherAPI.com.

## Возможности

- Поиск погоды по городам с автодополнением
- Прогноз на 10 дней (отображается в 2 ряда по 5 дней)
- Подробная информация о текущей погоде (температура, влажность, ветер)
- Переключение между светлой и тёмной темой
- История поиска для каждого пользователя
- Статистика запросов по городам
- Адаптивный дизайн в стиле iOS
- Автоматическое сохранение выбранной темы

## Технологии

- Backend: FastAPI, SQLite (SQLAlchemy)
- Frontend: HTML, CSS, JavaScript
- API: WeatherAPI.com
- Стили: Bootstrap 5 + Custom CSS

## Установка и запуск

### Быстрый старт
1. Клонируйте репозиторий:
```bash
git clone https://github.com/DjoLenMark/weather_app.git
cd weather_app
```

2. Дважды кликните на файл `start_app.bat` или запустите его из командной строки:
```bash
start_app.bat
```
Скрипт автоматически:
- Проверит наличие виртуального окружения
- Установит необходимые зависимости
- Запустит сервер

### Ручная установка
1. Создайте виртуальное окружение (опционально):
```bash
python -m venv venv
venv\Scripts\activate
```

2. Установите зависимости:
```bash
pip install -r requirements.txt
```

3. Запустите сервер:
```bash
python -m uvicorn main:app --reload
```

## Структура проекта

```
weather_app/
├── static/
│   ├── css/
│   │   └── style.css      # Стили приложения
│   └── js/
│       └── app.js         # JavaScript функционал
├── templates/
│   └── index.html         # Главная страница
├── main.py               # FastAPI приложение
├── database.py          # Настройки базы данных
├── models.py            # Модели данных
├── requirements.txt     # Зависимости проекта
├── start_app.bat        # Скрипт автозапуска
└── README.md           # Документация
```

## Использование

1. Откройте приложение в браузере: http://127.0.0.1:8000
2. Введите название города в поле поиска
3. Выберите город из выпадающего списка
4. Просмотрите текущую погоду и прогноз на 10 дней
5. Используйте кнопку "Сменить тему" для переключения между светлой и тёмной темой
6. История поиска и статистика отображаются в правой части экрана

## API Endpoints

- `/` - Главная страница
- `/api/weather/{city}` - Получение погоды для города
- `/api/cities?q={query}` - Поиск городов (автодополнение)
- `/api/history` - История поиска для текущего пользователя
- `/stats` - Статистика запросов по городам

## Зависимости

- fastapi
- uvicorn
- aiohttp
- sqlalchemy
- jinja2
- python-multipart

## Лицензия

MIT 